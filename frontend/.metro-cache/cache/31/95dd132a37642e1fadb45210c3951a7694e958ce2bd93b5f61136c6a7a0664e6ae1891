{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"useAuthStore\",{enumerable:!0,get:function(){return u}});var t,e=r(d[0]),o=r(d[1]),n=(t=o)&&t.__esModule?t:{default:t};const s=process.env.EXPO_PUBLIC_BACKEND_URL||'',u=(0,e.create)((t,e)=>({user:null,token:null,isLoading:!0,isAuthenticated:!1,login:async(e,o)=>{try{const u=await fetch(`${s}/api/auth/login`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:e,password:o})});if(!u.ok){const t=await u.json();throw new Error(t.detail||'Login failed')}const c=await u.json();await n.default.setItem('token',c.token),await n.default.setItem('user',JSON.stringify(c.user)),t({user:c.user,token:c.token,isAuthenticated:!0})}catch(t){throw t}},register:async(e,o,u)=>{try{const c=await fetch(`${s}/api/auth/register`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:e,username:o,password:u})});if(!c.ok){const t=await c.json();throw new Error(t.detail||'Registration failed')}const l=await c.json();await n.default.setItem('token',l.token),await n.default.setItem('user',JSON.stringify(l.user)),t({user:l.user,token:l.token,isAuthenticated:!0})}catch(t){throw t}},googleAuth:async(e,o,u)=>{try{const c=await fetch(`${s}/api/auth/google`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({token:e,email:o,name:u})});if(!c.ok){const t=await c.json();throw new Error(t.detail||'Google auth failed')}const l=await c.json();await n.default.setItem('token',l.token),await n.default.setItem('user',JSON.stringify(l.user)),t({user:l.user,token:l.token,isAuthenticated:!0})}catch(t){throw t}},logout:async()=>{await n.default.removeItem('token'),await n.default.removeItem('user'),t({user:null,token:null,isAuthenticated:!1})},loadStoredAuth:async()=>{try{const e=await n.default.getItem('token'),o=await n.default.getItem('user');if(e&&o){const n=JSON.parse(o);t({user:n,token:e,isAuthenticated:!0,isLoading:!1})}else t({isLoading:!1})}catch(e){t({isLoading:!1})}},refreshUser:async()=>{const{token:o}=e();if(o)try{const e=await fetch(`${s}/api/auth/me`,{headers:{Authorization:`Bearer ${o}`}});if(e.ok){const o=await e.json();await n.default.setItem('user',JSON.stringify(o)),t({user:o})}}catch(t){console.error('Failed to refresh user:',t)}}}))});","lineCount":1,"map":[[1,92,21,0,"Object"],[1,99,21,0,"defineProperty"],[1,114,21,0,"_e"],[1,117,21,0],[1,133,21,0,"enumerable"],[1,145,21,0],[1,147,21,0,"get"],[1,151,21,0],[1,169,21,0,"useAuthStore"],[1,170,21,0],[1,174,1,0],[1,178],[1,180,1,0,"_zustand"],[1,182,1,0,"r"],[1,184,1,0,"d"],[1,186,1,0],[1,190,2,0,"_reactNativeAsyncStorageAsyncStorage"],[1,192,2,0,"r"],[1,194,2,0,"d"],[1,196,2,0],[1,200,2,0,"AsyncStorage"],[1,203],[1,205,2,0,"_reactNativeAsyncStorageAsyncStorage"],[1,209],[1,236,5,0],[1,242,5,6,"API_URL"],[1,244,5,16,"process"],[1,252,5,24,"env"],[1,256,5,28,"EXPO_PUBLIC_BACKEND_URL"],[1,281,5,55],[1,284,21,13,"useAuthStore"],[1,287,21,28],[1,289,21,28,"create"],[1,291,21,34,"create"],[1,299,21,46],[1,300,21,47,"set"],[1,302,21,52,"get"],[1,307,21,55],[1,308,22,2,"user"],[1,313,22,8],[1,318,23,2,"token"],[1,324,23,9],[1,329,24,2,"isLoading"],[1,340,24,13],[1,342,25,2,"isAuthenticated"],[1,359,25,19],[1,361,27,2,"login"],[1,367,27,9,"async"],[1,373,27,16,"email"],[1,375,27,31,"password"],[1,380,28,4],[1,384,29,6],[1,390,29,12,"response"],[1,398,29,29,"fetch"],[1,404,29,35],[1,407,29,38,"API_URL"],[1,426,29,64],[1,427,30,8,"method"],[1,434,30,16],[1,441,31,8,"headers"],[1,449,31,17],[1,450,31,19],[1,465,31,35],[1,485,32,8,"body"],[1,490,32,14,"JSON"],[1,495,32,19,"stringify"],[1,505,32,29],[1,506,32,31,"email"],[1,514,32,38,"password"],[1,529,35,6],[1,533,35,11,"response"],[1,535,35,20,"ok"],[1,538,35,24],[1,539,36,8],[1,545,36,14,"error"],[1,553,36,28,"response"],[1,555,36,37,"json"],[1,562,37,8],[1,568,37,14],[1,572,37,18,"Error"],[1,578,37,24,"error"],[1,580,37,30,"detail"],[1,588,37,40],[1,603,38,6],[1,604,40,6],[1,610,40,12,"data"],[1,618,40,25,"response"],[1,620,40,34,"json"],[1,633,41,12,"AsyncStorage"],[1,635,41,24,"default"],[1,643,41,25,"setItem"],[1,651,41,33],[1,659,41,42,"data"],[1,661,41,47,"token"],[1,674,42,12,"AsyncStorage"],[1,676,42,24,"default"],[1,684,42,25,"setItem"],[1,692,42,33],[1,699,42,41,"JSON"],[1,704,42,46,"stringify"],[1,714,42,56,"data"],[1,716,42,61,"user"],[1,723,44,6,"set"],[1,725,44,10],[1,726,44,12,"user"],[1,731,44,18,"data"],[1,733,44,23,"user"],[1,738,44,29,"token"],[1,744,44,36,"data"],[1,746,44,41,"token"],[1,752,44,48,"isAuthenticated"],[1,769,44,65],[1,772,45,4],[1,773,45,6],[1,779,45,13,"error"],[1,782,46,6],[1,788,46,12,"error"],[1,789,47,4],[1,792,50,2,"register"],[1,801,50,12,"async"],[1,807,50,19,"email"],[1,809,50,34,"username"],[1,811,50,52,"password"],[1,816,51,4],[1,820,52,6],[1,826,52,12,"response"],[1,834,52,29,"fetch"],[1,840,52,35],[1,843,52,38,"API_URL"],[1,865,52,67],[1,866,53,8,"method"],[1,873,53,16],[1,880,54,8,"headers"],[1,888,54,17],[1,889,54,19],[1,904,54,35],[1,924,55,8,"body"],[1,929,55,14,"JSON"],[1,934,55,19,"stringify"],[1,944,55,29],[1,945,55,31,"email"],[1,953,55,38,"username"],[1,964,55,48,"password"],[1,979,58,6],[1,983,58,11,"response"],[1,985,58,20,"ok"],[1,988,58,24],[1,989,59,8],[1,995,59,14,"error"],[1,1003,59,28,"response"],[1,1005,59,37,"json"],[1,1012,60,8],[1,1018,60,14],[1,1022,60,18,"Error"],[1,1028,60,24,"error"],[1,1030,60,30,"detail"],[1,1038,60,40],[1,1060,61,6],[1,1061,63,6],[1,1067,63,12,"data"],[1,1075,63,25,"response"],[1,1077,63,34,"json"],[1,1090,64,12,"AsyncStorage"],[1,1092,64,24,"default"],[1,1100,64,25,"setItem"],[1,1108,64,33],[1,1116,64,42,"data"],[1,1118,64,47,"token"],[1,1131,65,12,"AsyncStorage"],[1,1133,65,24,"default"],[1,1141,65,25,"setItem"],[1,1149,65,33],[1,1156,65,41,"JSON"],[1,1161,65,46,"stringify"],[1,1171,65,56,"data"],[1,1173,65,61,"user"],[1,1180,67,6,"set"],[1,1182,67,10],[1,1183,67,12,"user"],[1,1188,67,18,"data"],[1,1190,67,23,"user"],[1,1195,67,29,"token"],[1,1201,67,36,"data"],[1,1203,67,41,"token"],[1,1209,67,48,"isAuthenticated"],[1,1226,67,65],[1,1229,68,4],[1,1230,68,6],[1,1236,68,13,"error"],[1,1239,69,6],[1,1245,69,12,"error"],[1,1246,70,4],[1,1249,73,2,"googleAuth"],[1,1260,73,14,"async"],[1,1266,73,21,"token"],[1,1268,73,36,"email"],[1,1270,73,51,"name"],[1,1275,74,4],[1,1279,75,6],[1,1285,75,12,"response"],[1,1293,75,29,"fetch"],[1,1299,75,35],[1,1302,75,38,"API_URL"],[1,1322,75,65],[1,1323,76,8,"method"],[1,1330,76,16],[1,1337,77,8,"headers"],[1,1345,77,17],[1,1346,77,19],[1,1361,77,35],[1,1381,78,8,"body"],[1,1386,78,14,"JSON"],[1,1391,78,19,"stringify"],[1,1401,78,29],[1,1402,78,31,"token"],[1,1410,78,38,"email"],[1,1418,78,45,"name"],[1,1429,81,6],[1,1433,81,11,"response"],[1,1435,81,20,"ok"],[1,1438,81,24],[1,1439,82,8],[1,1445,82,14,"error"],[1,1453,82,28,"response"],[1,1455,82,37,"json"],[1,1462,83,8],[1,1468,83,14],[1,1472,83,18,"Error"],[1,1478,83,24,"error"],[1,1480,83,30,"detail"],[1,1488,83,40],[1,1509,84,6],[1,1510,86,6],[1,1516,86,12,"data"],[1,1524,86,25,"response"],[1,1526,86,34,"json"],[1,1539,87,12,"AsyncStorage"],[1,1541,87,24,"default"],[1,1549,87,25,"setItem"],[1,1557,87,33],[1,1565,87,42,"data"],[1,1567,87,47,"token"],[1,1580,88,12,"AsyncStorage"],[1,1582,88,24,"default"],[1,1590,88,25,"setItem"],[1,1598,88,33],[1,1605,88,41,"JSON"],[1,1610,88,46,"stringify"],[1,1620,88,56,"data"],[1,1622,88,61,"user"],[1,1629,90,6,"set"],[1,1631,90,10],[1,1632,90,12,"user"],[1,1637,90,18,"data"],[1,1639,90,23,"user"],[1,1644,90,29,"token"],[1,1650,90,36,"data"],[1,1652,90,41,"token"],[1,1658,90,48,"isAuthenticated"],[1,1675,90,65],[1,1678,91,4],[1,1679,91,6],[1,1685,91,13,"error"],[1,1688,92,6],[1,1694,92,12,"error"],[1,1695,93,4],[1,1698,96,2,"logout"],[1,1705,96,10,"async"],[1,1721,97,10,"AsyncStorage"],[1,1723,97,22,"default"],[1,1731,97,23,"removeItem"],[1,1742,97,34],[1,1757,98,10,"AsyncStorage"],[1,1759,98,22,"default"],[1,1767,98,23,"removeItem"],[1,1778,98,34],[1,1786,99,4,"set"],[1,1788,99,8],[1,1789,99,10,"user"],[1,1794,99,16],[1,1799,99,22,"token"],[1,1805,99,29],[1,1810,99,35,"isAuthenticated"],[1,1827,99,52],[1,1832,102,2,"loadStoredAuth"],[1,1847,102,18,"async"],[1,1857,103,4],[1,1861,104,6],[1,1867,104,12,"token"],[1,1875,104,26,"AsyncStorage"],[1,1877,104,38,"default"],[1,1885,104,39,"getItem"],[1,1893,104,47],[1,1902,105,12,"userStr"],[1,1910,105,28,"AsyncStorage"],[1,1912,105,40,"default"],[1,1920,105,41,"getItem"],[1,1928,105,49],[1,1936,107,6],[1,1939,107,10,"token"],[1,1942,107,19,"userStr"],[1,1944,107,28],[1,1945,108,8],[1,1951,108,14,"user"],[1,1953,108,21,"JSON"],[1,1958,108,26,"parse"],[1,1964,108,32,"userStr"],[1,1967,109,8,"set"],[1,1969,109,12],[1,1970,109,14,"user"],[1,1977,109,20,"token"],[1,1985,109,27,"isAuthenticated"],[1,2002,109,44],[1,2004,109,50,"isLoading"],[1,2015,109,61],[1,2018,110,6],[1,2024,111,8,"set"],[1,2026,111,12],[1,2027,111,14,"isLoading"],[1,2038,111,25],[1,2041,113,4],[1,2042,113,6],[1,2048,113,13,"error"],[1,2051,114,6,"set"],[1,2053,114,10],[1,2054,114,12,"isLoading"],[1,2065,114,23],[1,2068,115,4],[1,2071,118,2,"refreshUser"],[1,2083,118,15,"async"],[1,2093,119,4],[1,2099,119,10,"token"],[1,2105,119,12,"token"],[1,2108,119,22,"get"],[1,2112,120,4],[1,2115,120,9,"token"],[1,2117,122,4],[1,2121,123,6],[1,2127,123,12,"response"],[1,2135,123,29,"fetch"],[1,2141,123,35],[1,2144,123,38,"API_URL"],[1,2160,123,61],[1,2161,124,8,"headers"],[1,2169,124,17],[1,2170,124,19,"Authorization"],[1,2184,124,36],[1,2194,124,46,"token"],[1,2201,127,6],[1,2204,127,10,"response"],[1,2206,127,19,"ok"],[1,2209,127,23],[1,2210,128,8],[1,2216,128,14,"user"],[1,2224,128,27,"response"],[1,2226,128,36,"json"],[1,2239,129,14,"AsyncStorage"],[1,2241,129,26,"default"],[1,2249,129,27,"setItem"],[1,2257,129,35],[1,2264,129,43,"JSON"],[1,2269,129,48,"stringify"],[1,2279,129,58,"user"],[1,2283,130,8,"set"],[1,2285,130,12],[1,2286,130,14,"user"],[1,2294,131,6],[1,2295,132,4],[1,2296,132,6],[1,2302,132,13,"error"],[1,2305,133,6,"console"],[1,2313,133,14,"error"],[1,2319,133,20],[1,2345,133,47,"error"],[1,2347,134,4],[1,2352,136,4],[1,2355]],"functionMap":{"names":["<global>","create$argument_0","login","register","googleAuth","logout","loadStoredAuth","refreshUser"],"mappings":"AAA;8CCoB;SCM;GDqB;YEE;GFqB;cGE;GHqB;UIE;GJI;kBKE;GLc;eME;GNiB;EDC"},"hasCjsExports":false},"type":"js/module"}]}