{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"useAuthStore\",{enumerable:!0,get:function(){return u}});var t,e=r(d[0]),o=r(d[1]),n=(t=o)&&t.__esModule?t:{default:t};const s=\"https://gameclock-fix.preview.emergentagent.com\",u=(0,e.create)((t,e)=>({user:null,token:null,isLoading:!0,isAuthenticated:!1,login:async(e,o)=>{try{const u=await fetch(`${s}/api/auth/login`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:e,password:o})});if(!u.ok){const t=await u.json();throw new Error(t.detail||'Login failed')}const c=await u.json();await n.default.setItem('token',c.token),await n.default.setItem('user',JSON.stringify(c.user)),t({user:c.user,token:c.token,isAuthenticated:!0})}catch(t){throw t}},register:async(e,o,u)=>{try{const c=await fetch(`${s}/api/auth/register`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:e,username:o,password:u})});if(!c.ok){const t=await c.json();throw new Error(t.detail||'Registration failed')}const l=await c.json();await n.default.setItem('token',l.token),await n.default.setItem('user',JSON.stringify(l.user)),t({user:l.user,token:l.token,isAuthenticated:!0})}catch(t){throw t}},googleAuth:async(e,o,u)=>{try{const c=await fetch(`${s}/api/auth/google`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({token:e,email:o,name:u})});if(!c.ok){const t=await c.json();throw new Error(t.detail||'Google auth failed')}const l=await c.json();await n.default.setItem('token',l.token),await n.default.setItem('user',JSON.stringify(l.user)),t({user:l.user,token:l.token,isAuthenticated:!0})}catch(t){throw t}},logout:async()=>{await n.default.removeItem('token'),await n.default.removeItem('user'),t({user:null,token:null,isAuthenticated:!1})},loadStoredAuth:async()=>{try{const e=await n.default.getItem('token'),o=await n.default.getItem('user');if(e&&o){const n=JSON.parse(o);t({user:n,token:e,isAuthenticated:!0,isLoading:!1})}else t({isLoading:!1})}catch(e){t({isLoading:!1})}},refreshUser:async()=>{const{token:o}=e();if(o)try{const e=await fetch(`${s}/api/auth/me`,{headers:{Authorization:`Bearer ${o}`}});if(e.ok){const o=await e.json();await n.default.setItem('user',JSON.stringify(o)),t({user:o})}}catch(t){console.error('Failed to refresh user:',t)}}}))});","lineCount":1,"map":[[1,92,21,0,"Object"],[1,99,21,0,"defineProperty"],[1,114,21,0,"_e"],[1,117,21,0],[1,133,21,0,"enumerable"],[1,145,21,0],[1,147,21,0,"get"],[1,151,21,0],[1,169,21,0,"useAuthStore"],[1,170,21,0],[1,174,1,0],[1,178],[1,180,1,0,"_zustand"],[1,182,1,0,"r"],[1,184,1,0,"d"],[1,186,1,0],[1,190,2,0,"_reactNativeAsyncStorageAsyncStorage"],[1,192,2,0,"r"],[1,194,2,0,"d"],[1,196,2,0],[1,200,2,0,"AsyncStorage"],[1,203],[1,205,2,0,"_reactNativeAsyncStorageAsyncStorage"],[1,209],[1,236,5,0],[1,242,5,6,"API_URL"],[1,244,5,13],[1,294,21,13,"useAuthStore"],[1,297,21,28],[1,299,21,28,"create"],[1,301,21,34,"create"],[1,309,21,46],[1,310,21,47,"set"],[1,312,21,52,"get"],[1,317,21,55],[1,318,22,2,"user"],[1,323,22,8],[1,328,23,2,"token"],[1,334,23,9],[1,339,24,2,"isLoading"],[1,350,24,13],[1,352,25,2,"isAuthenticated"],[1,369,25,19],[1,371,27,2,"login"],[1,377,27,9,"async"],[1,383,27,16,"email"],[1,385,27,31,"password"],[1,390,28,4],[1,394,29,6],[1,400,29,12,"response"],[1,408,29,29,"fetch"],[1,414,29,35],[1,417,29,38,"API_URL"],[1,436,29,64],[1,437,30,8,"method"],[1,444,30,16],[1,451,31,8,"headers"],[1,459,31,17],[1,460,31,19],[1,475,31,35],[1,495,32,8,"body"],[1,500,32,14,"JSON"],[1,505,32,19,"stringify"],[1,515,32,29],[1,516,32,31,"email"],[1,524,32,38,"password"],[1,539,35,6],[1,543,35,11,"response"],[1,545,35,20,"ok"],[1,548,35,24],[1,549,36,8],[1,555,36,14,"error"],[1,563,36,28,"response"],[1,565,36,37,"json"],[1,572,37,8],[1,578,37,14],[1,582,37,18,"Error"],[1,588,37,24,"error"],[1,590,37,30,"detail"],[1,598,37,40],[1,613,38,6],[1,614,40,6],[1,620,40,12,"data"],[1,628,40,25,"response"],[1,630,40,34,"json"],[1,643,41,12,"AsyncStorage"],[1,645,41,24,"default"],[1,653,41,25,"setItem"],[1,661,41,33],[1,669,41,42,"data"],[1,671,41,47,"token"],[1,684,42,12,"AsyncStorage"],[1,686,42,24,"default"],[1,694,42,25,"setItem"],[1,702,42,33],[1,709,42,41,"JSON"],[1,714,42,46,"stringify"],[1,724,42,56,"data"],[1,726,42,61,"user"],[1,733,44,6,"set"],[1,735,44,10],[1,736,44,12,"user"],[1,741,44,18,"data"],[1,743,44,23,"user"],[1,748,44,29,"token"],[1,754,44,36,"data"],[1,756,44,41,"token"],[1,762,44,48,"isAuthenticated"],[1,779,44,65],[1,782,45,4],[1,783,45,6],[1,789,45,13,"error"],[1,792,46,6],[1,798,46,12,"error"],[1,799,47,4],[1,802,50,2,"register"],[1,811,50,12,"async"],[1,817,50,19,"email"],[1,819,50,34,"username"],[1,821,50,52,"password"],[1,826,51,4],[1,830,52,6],[1,836,52,12,"response"],[1,844,52,29,"fetch"],[1,850,52,35],[1,853,52,38,"API_URL"],[1,875,52,67],[1,876,53,8,"method"],[1,883,53,16],[1,890,54,8,"headers"],[1,898,54,17],[1,899,54,19],[1,914,54,35],[1,934,55,8,"body"],[1,939,55,14,"JSON"],[1,944,55,19,"stringify"],[1,954,55,29],[1,955,55,31,"email"],[1,963,55,38,"username"],[1,974,55,48,"password"],[1,989,58,6],[1,993,58,11,"response"],[1,995,58,20,"ok"],[1,998,58,24],[1,999,59,8],[1,1005,59,14,"error"],[1,1013,59,28,"response"],[1,1015,59,37,"json"],[1,1022,60,8],[1,1028,60,14],[1,1032,60,18,"Error"],[1,1038,60,24,"error"],[1,1040,60,30,"detail"],[1,1048,60,40],[1,1070,61,6],[1,1071,63,6],[1,1077,63,12,"data"],[1,1085,63,25,"response"],[1,1087,63,34,"json"],[1,1100,64,12,"AsyncStorage"],[1,1102,64,24,"default"],[1,1110,64,25,"setItem"],[1,1118,64,33],[1,1126,64,42,"data"],[1,1128,64,47,"token"],[1,1141,65,12,"AsyncStorage"],[1,1143,65,24,"default"],[1,1151,65,25,"setItem"],[1,1159,65,33],[1,1166,65,41,"JSON"],[1,1171,65,46,"stringify"],[1,1181,65,56,"data"],[1,1183,65,61,"user"],[1,1190,67,6,"set"],[1,1192,67,10],[1,1193,67,12,"user"],[1,1198,67,18,"data"],[1,1200,67,23,"user"],[1,1205,67,29,"token"],[1,1211,67,36,"data"],[1,1213,67,41,"token"],[1,1219,67,48,"isAuthenticated"],[1,1236,67,65],[1,1239,68,4],[1,1240,68,6],[1,1246,68,13,"error"],[1,1249,69,6],[1,1255,69,12,"error"],[1,1256,70,4],[1,1259,73,2,"googleAuth"],[1,1270,73,14,"async"],[1,1276,73,21,"token"],[1,1278,73,36,"email"],[1,1280,73,51,"name"],[1,1285,74,4],[1,1289,75,6],[1,1295,75,12,"response"],[1,1303,75,29,"fetch"],[1,1309,75,35],[1,1312,75,38,"API_URL"],[1,1332,75,65],[1,1333,76,8,"method"],[1,1340,76,16],[1,1347,77,8,"headers"],[1,1355,77,17],[1,1356,77,19],[1,1371,77,35],[1,1391,78,8,"body"],[1,1396,78,14,"JSON"],[1,1401,78,19,"stringify"],[1,1411,78,29],[1,1412,78,31,"token"],[1,1420,78,38,"email"],[1,1428,78,45,"name"],[1,1439,81,6],[1,1443,81,11,"response"],[1,1445,81,20,"ok"],[1,1448,81,24],[1,1449,82,8],[1,1455,82,14,"error"],[1,1463,82,28,"response"],[1,1465,82,37,"json"],[1,1472,83,8],[1,1478,83,14],[1,1482,83,18,"Error"],[1,1488,83,24,"error"],[1,1490,83,30,"detail"],[1,1498,83,40],[1,1519,84,6],[1,1520,86,6],[1,1526,86,12,"data"],[1,1534,86,25,"response"],[1,1536,86,34,"json"],[1,1549,87,12,"AsyncStorage"],[1,1551,87,24,"default"],[1,1559,87,25,"setItem"],[1,1567,87,33],[1,1575,87,42,"data"],[1,1577,87,47,"token"],[1,1590,88,12,"AsyncStorage"],[1,1592,88,24,"default"],[1,1600,88,25,"setItem"],[1,1608,88,33],[1,1615,88,41,"JSON"],[1,1620,88,46,"stringify"],[1,1630,88,56,"data"],[1,1632,88,61,"user"],[1,1639,90,6,"set"],[1,1641,90,10],[1,1642,90,12,"user"],[1,1647,90,18,"data"],[1,1649,90,23,"user"],[1,1654,90,29,"token"],[1,1660,90,36,"data"],[1,1662,90,41,"token"],[1,1668,90,48,"isAuthenticated"],[1,1685,90,65],[1,1688,91,4],[1,1689,91,6],[1,1695,91,13,"error"],[1,1698,92,6],[1,1704,92,12,"error"],[1,1705,93,4],[1,1708,96,2,"logout"],[1,1715,96,10,"async"],[1,1731,97,10,"AsyncStorage"],[1,1733,97,22,"default"],[1,1741,97,23,"removeItem"],[1,1752,97,34],[1,1767,98,10,"AsyncStorage"],[1,1769,98,22,"default"],[1,1777,98,23,"removeItem"],[1,1788,98,34],[1,1796,99,4,"set"],[1,1798,99,8],[1,1799,99,10,"user"],[1,1804,99,16],[1,1809,99,22,"token"],[1,1815,99,29],[1,1820,99,35,"isAuthenticated"],[1,1837,99,52],[1,1842,102,2,"loadStoredAuth"],[1,1857,102,18,"async"],[1,1867,103,4],[1,1871,104,6],[1,1877,104,12,"token"],[1,1885,104,26,"AsyncStorage"],[1,1887,104,38,"default"],[1,1895,104,39,"getItem"],[1,1903,104,47],[1,1912,105,12,"userStr"],[1,1920,105,28,"AsyncStorage"],[1,1922,105,40,"default"],[1,1930,105,41,"getItem"],[1,1938,105,49],[1,1946,107,6],[1,1949,107,10,"token"],[1,1952,107,19,"userStr"],[1,1954,107,28],[1,1955,108,8],[1,1961,108,14,"user"],[1,1963,108,21,"JSON"],[1,1968,108,26,"parse"],[1,1974,108,32,"userStr"],[1,1977,109,8,"set"],[1,1979,109,12],[1,1980,109,14,"user"],[1,1987,109,20,"token"],[1,1995,109,27,"isAuthenticated"],[1,2012,109,44],[1,2014,109,50,"isLoading"],[1,2025,109,61],[1,2028,110,6],[1,2034,111,8,"set"],[1,2036,111,12],[1,2037,111,14,"isLoading"],[1,2048,111,25],[1,2051,113,4],[1,2052,113,6],[1,2058,113,13,"error"],[1,2061,114,6,"set"],[1,2063,114,10],[1,2064,114,12,"isLoading"],[1,2075,114,23],[1,2078,115,4],[1,2081,118,2,"refreshUser"],[1,2093,118,15,"async"],[1,2103,119,4],[1,2109,119,10,"token"],[1,2115,119,12,"token"],[1,2118,119,22,"get"],[1,2122,120,4],[1,2125,120,9,"token"],[1,2127,122,4],[1,2131,123,6],[1,2137,123,12,"response"],[1,2145,123,29,"fetch"],[1,2151,123,35],[1,2154,123,38,"API_URL"],[1,2170,123,61],[1,2171,124,8,"headers"],[1,2179,124,17],[1,2180,124,19,"Authorization"],[1,2194,124,36],[1,2204,124,46,"token"],[1,2211,127,6],[1,2214,127,10,"response"],[1,2216,127,19,"ok"],[1,2219,127,23],[1,2220,128,8],[1,2226,128,14,"user"],[1,2234,128,27,"response"],[1,2236,128,36,"json"],[1,2249,129,14,"AsyncStorage"],[1,2251,129,26,"default"],[1,2259,129,27,"setItem"],[1,2267,129,35],[1,2274,129,43,"JSON"],[1,2279,129,48,"stringify"],[1,2289,129,58,"user"],[1,2293,130,8,"set"],[1,2295,130,12],[1,2296,130,14,"user"],[1,2304,131,6],[1,2305,132,4],[1,2306,132,6],[1,2312,132,13,"error"],[1,2315,133,6,"console"],[1,2323,133,14,"error"],[1,2329,133,20],[1,2355,133,47,"error"],[1,2357,134,4],[1,2362,136,4],[1,2365]],"functionMap":{"names":["<global>","create$argument_0","login","register","googleAuth","logout","loadStoredAuth","refreshUser"],"mappings":"AAA;8CCoB;SCM;GDqB;YEE;GFqB;cGE;GHqB;UIE;GJI;kBKE;GLc;eME;GNiB;EDC"},"hasCjsExports":false},"type":"js/module"}]}